<header class="header">
  <!-- Brand logo and link back to the registration page -->
  <a routerLink="/register" class="logo-link">
    <img src="/Logo.png" alt="Videoflix" class="logo" />
  </a>

  <!-- Quick access to login -->
  <button class="btn login-btn" routerLink="/login">Log in</button>
</header>

<section class="hero">
  <!-- Page headline -->
  <h1>
    Forgot your <span class="highlight">password</span>?
  </h1>

  <!-- Short instruction -->
  <p>
    Enter your <span class="highlight">email</span> to reset your password.
  </p>

  <!-- Reset-password form -->
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="forgot-form">
    <!-- Email input -->
    <div class="input-group">
      <img src="/SignUp/mail.png" alt="Mail Icon" />
      <input
        type="email"
        formControlName="email"
        placeholder="Email Address"
        required
        (blur)="emailCtrl.markAsTouched()"
      />
    </div>

    <!-- Client-side validation messages -->
    <div class="error-messages" *ngIf="emailCtrl.touched && emailCtrl.invalid">
      <small *ngIf="emailCtrl.hasError('required')">
        Please enter your email address.
      </small>
      <small *ngIf="emailCtrl.hasError('email')">
        Please enter a valid email address.
      </small>
    </div>

    <!-- Submit button (shows spinner text while sending) -->
    <button
      type="submit"
      class="btn reset-btn"
      [disabled]="form.invalid || sending"
    >
      {{ sending ? 'Sendingâ€¦' : 'Send Reset Link' }}
    </button>

    <!-- Server-side feedback -->
    <div
      class="server-message"
      *ngIf="serverMessage"
      [class.success]="isSuccess"
      [class.error]="!isSuccess"
    >
      <small>{{ serverMessage }}</small>
    </div>
  </form>
</section>

<footer class="footer">
  <a routerLink="/privacy">Privacy</a>
  <a routerLink="/imprint">Imprint</a>
</footer>
